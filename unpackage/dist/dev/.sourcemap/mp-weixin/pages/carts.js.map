{"version":3,"sources":["uni-app:///main.js","webpack:///D:/lixindom/2020年/生鲜商城/shengxian/pages/carts.vue?2e63","webpack:///D:/lixindom/2020年/生鲜商城/shengxian/pages/carts.vue?b752","webpack:///D:/lixindom/2020年/生鲜商城/shengxian/pages/carts.vue?dc98","webpack:///D:/lixindom/2020年/生鲜商城/shengxian/pages/carts.vue?7880","uni-app:///pages/carts.vue","webpack:///D:/lixindom/2020年/生鲜商城/shengxian/pages/carts.vue?a85a","webpack:///D:/lixindom/2020年/生鲜商城/shengxian/pages/carts.vue?e091"],"names":["createPage","Page"],"mappings":"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","file":"pages/carts.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/carts.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./carts.vue?vue&type=template&id=6d97fbdc&scoped=true&\"\nvar renderjs\nimport script from \"./carts.vue?vue&type=script&lang=js&\"\nexport * from \"./carts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./carts.vue?vue&type=style&index=0&id=6d97fbdc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d97fbdc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"lixindom/2020年/生鲜商城/shengxian/pages/carts.vue\"\nexport default component.exports","export * from \"-!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./carts.vue?vue&type=template&id=6d97fbdc&scoped=true&\"","var components = {\n  uniNumberBox: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-number-box/uni-number-box\" */ \"@/components/uni-number-box/uni-number-box.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./carts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./carts.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<empty v-if=\"dataList.length == 0\" @click=\"navToLogin\"></empty>\r\n\t\t<view>\r\n\t\t\t<view class=\"cart-list\">\r\n\t\t\t\t<view class=\"uni-flex cart-item uni-align-center\" v-if=\"dataList.length!=0\">\r\n\t\t\t\t\t<view class=\"uni-com\" v-if=\"complineNum!=0\">\r\n\t\t\t\t\t\t<image src=\"/static/img/home/bg_com.png\" class=\"uni-com-bg\"></image>\r\n\t\t\t\t\t\t有{{complineNum}}张优惠券\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text style=\"font-size: 24rpx;\" v-if=\"addBuy!=0\">再买{{addBuy}}元可享 满{{currentCompline.fullprice}}减{{currentCompline.price}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<block v-for=\"(item, index) in dataList\" :key=\"item.goodscarid\">\r\n\t\t\t\t\t<view class=\"cart-item\">\r\n\t\t\t\t\t\t<view class=\"cart-item-left\">\r\n\t\t\t\t\t\t\t<view class=\"\" @tap=\"check('item',index)\">\r\n\t\t\t\t\t\t\t\t<view class=\"uni-icon uni-icon-circle-filled\" style=\"color:#F55555;\" v-if=\"item.checked\">\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"uni-icon uni-icon-checkbox\" style=\"color: #898989;\" v-else>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<image :src=\"item.goodsimage\" mode=\"aspectFill\" lazy-load class=\"product-img\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item-right\">\r\n\t\t\t\t\t\t\t<view class=\"item-right-top\">\r\n\t\t\t\t\t\t\t\t<view class=\"clamp title uni-ellipsis\">{{item.goodsname}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont  icon-delete\" style=\"color: #999999;font-size: 18px;\" @click=\"deleteCartItem(item.goodscarid,index)\">\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"item-right-top\">\r\n\t\t\t\t\t\t\t\t<view class=\"skuname\">{{item.name}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"item-right-top\">\r\n\t\t\t\t\t\t\t\t<view class=\"price\">￥{{item.price}}</view>\r\n\t\t\t\t\t\t\t\t<uni-number-box class=\"step\" :min=\"1\" :value=\"item.numbers\" :isMin=\"item.numbers===1\" :index=\"index\" @change=\"numberChange\"></uni-number-box>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action-section-con\" :style=\"{paddingBottom:is_lhp?'40rpx':'0rpx'}\">\r\n\t\t\t\t<view class=\"notice-con uni-ellipsis\" v-if=\"dataList.length!=0\" >\r\n\t\t\t\t\t{{datastr}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 底部菜单栏 -->\r\n\t\t\t\t<view class=\"action-section\" :class=\"{'bottom-width':total==0}\" v-if=\"dataList.length!=0\" >\r\n\t\t\t\t\t<view class=\"uni-flex\">\r\n\t\t\t\t\t\t<view class=\"checkbox\" @tap=\"check('all')\">\r\n\t\t\t\t\t\t\t<view class=\"uni-icon uni-icon-circle-filled\" style=\"color:#F55555;\" v-if=\"allChecked\">\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"uni-icon uni-icon-checkbox\" style=\"color: #898989;\" v-else>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text style=\"color: #000;margin-left: 5px;\">全选</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t<view class=\"total-box\" v-if=\"total!=0\">\r\n\t\t\t\t\t\t<text class=\"price\">合计:¥{{total}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"confirm-btn\" @tap=\"createOrder(0)\">去结算</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport uniNumberBox from '@/components/uni-number-box/uni-number-box.vue'\r\n\timport empty from \"@/components/mycom/cartEmpty.vue\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniNumberBox,\r\n\t\t\tempty\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '购物车',\r\n\t\t\t\tchecked: false,\r\n\t\t\t\ttotal: 0, //总价格\r\n\t\t\t\tallChecked: false, //全选状态  true|false\r\n\t\t\t\tempty: false, //空白页现实  true|false\r\n\t\t\t\tdataList: [],\r\n\t\t\t\tuid: \"\",\r\n\t\t\t\tallPrice: 0,\r\n\t\t\t\tcomplineList: [],\r\n\t\t\t\tcomplineNum: 0,\r\n\t\t\t\taddBuy: 0,\r\n\t\t\t\tcurrentCompline: {\r\n\t\t\t\t\tfullprice: 0,\r\n\t\t\t\t\tprice: 0\r\n\t\t\t\t},\r\n\t\t\t\tdatastr:'',\r\n\t\t\t\tis_lhp:false\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t//显示空白页\r\n\t\t\tdataList(e) {\r\n\t\t\t\tlet empty = e.length === 0 ? true : false;\r\n\r\n\t\t\t\tif (this.empty !== empty) {\r\n\t\t\t\t\tthis.empty = empty;\r\n\r\n\t\t\t\t}\r\n\t\t\t\te.forEach(item => {\r\n\t\t\t\t\tthis.allPrice += item.price * item.numbers;\r\n\t\t\t\t})\r\n\t\t\t\te.length == 0 ? (this.allChecked = false, this.total = 0) : ''\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.is_lhp = this.$is_bang;\r\n\t\t\tif (getApp().globalData.uid != '') {\r\n\t\t\t\tthis.loadData();\r\n\t\t\t\tthis.getCompline();\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tnavToLogin() {\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl:'/pages/index/index'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetCompline() {\r\n\t\t\t\tlet parmas = {\r\n\t\t\t\t\tcmd: 'mycouponlist',\r\n\t\t\t\t\tuid: getApp().globalData.uid\r\n\t\t\t\t}\r\n\t\t\t\tthis._reqw.ipost(parmas).then(res => {\r\n\t\t\t\t\tconsole.log('compline', res)\r\n\t\t\t\t\tif (res.result == 0) {\r\n\t\t\t\t\t\tconsole.log(this.allPrice)\r\n\t\t\t\t\t\tthis.complineList = res.dataList;\r\n\t\t\t\t\t\tthis.complineNum = res.dataList.length;\r\n\t\t\t\t\t\tlet arry = [];\r\n\t\t\t\t\t\tthis.currentCompline = this.complineList[0];\r\n\t\t\t\t\t\tfor (let i = 0; i < this.complineList.length; i++) {\r\n\t\t\t\t\t\t\tif (this.complineList[i].type == 1) {\r\n\t\t\t\t\t\t\t\tthis.$set(arry, arry.length, this.complineList[i])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (arry.length > 0) {\r\n\t\t\t\t\t\t\tlet len = arry.length - 1;\r\n\t\t\t\t\t\t\tthis.currentCompline = arry[len];\r\n\t\t\t\t\t\t\tif (this.allPrice < this.currentCompline.fullprice) {\r\n\t\t\t\t\t\t\t\tthis.addBuy = this.currentCompline.fullprice - this.allPrice\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.tip(res.resultNote)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {})\r\n\t\t\t},\r\n\t\t\tloadMore() {\r\n\t\t\t\tconsole.log('cart  页面数据加载更多')\r\n\t\t\t\tthis.status = 'loading';\r\n\t\t\t\tthis.totalPage > this.page ?\r\n\t\t\t\t\t((this.page += 1), this.loadData()) :\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.status = \"noMore\"\r\n\t\t\t\t\t}, 300)\r\n\t\t\t},\r\n\t\t\tloadData() {\r\n\t\t\t\tlet parmas = {\r\n\t\t\t\t\tcmd: 'mygoodscar',\r\n\t\t\t\t\tuid: getApp().globalData.uid\r\n\t\t\t\t};\r\n\t\t\t\tthis._reqw.ipost(parmas).then(res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tres.result == 0 ?(this.datastr=res.datastr,res.dataList.forEach(item => {\r\n\t\t\t\t\t\titem.checked = false;\r\n\t\t\t\t\t\tthis.dataList.push(item)\r\n\t\t\t\t\t})) : this.$api.tip(res.resultNote)\r\n\t\t\t\t}).catch(err => {})\r\n\r\n\t\t\t},\r\n\t\t\t//选中状态处理\r\n\t\t\tcheck(type, index) {\r\n\t\t\t\tif (type === 'item') {\r\n\t\t\t\t\tthis.dataList[index].checked = !this.dataList[index].checked;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst checked = !this.allChecked\r\n\t\t\t\t\tconst list = this.dataList;\r\n\t\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\t\titem.checked = checked;\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.allChecked = checked;\r\n\t\t\t\t}\r\n\t\t\t\tthis.calcTotal();\r\n\t\t\t},\r\n\t\t\t//数量\r\n\t\t\tnumberChange(data) {\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tlet parmas = {\r\n\t\t\t\t\tcmd: 'editgoodscar',\r\n\t\t\t\t\tuid: getApp().globalData.uid,\r\n\t\t\t\t\tgoodscarid: this.dataList[data.index].goodscarid,\r\n\t\t\t\t\tcount: data.number\r\n\t\t\t\t}\r\n\t\t\t\tthis._reqw.ipost(parmas).then(res => {\r\n\t\t\t\t\tres.result == 0 ? (this.dataList[data.index].numbers = data.number, this.calcTotal()) : this.$api.tip(res.resultNote)\r\n\t\t\t\t}).catch(err => {})\r\n\t\t\t},\r\n\t\t\t//删除\r\n\t\t\tdeleteCartItem(id, k) {\r\n\t\t\t\tlet cartId = [];\r\n\t\t\t\tcartId.push(id);\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"确定删除吗\",\r\n\t\t\t\t\tcancelText: \"取消\",\r\n\t\t\t\t\tconfirmText: \"确定\",\r\n\t\t\t\t\tconfirmColor: \"#00736B\",\r\n\t\t\t\t\ttitleColor: \"#00736B\",\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(cartId)\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tlet parmas = {\r\n\t\t\t\t\t\t\t\tcmd: 'deletegoodscar',\r\n\t\t\t\t\t\t\t\tuid: getApp().globalData.uid,\r\n\t\t\t\t\t\t\t\tcidlist: cartId\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_this._reqw.ipost(parmas).then(res => {\r\n\t\t\t\t\t\t\t\tres.result == 0 ? (_this.$api.tip('删除成功!'), _this.dataList.splice(k, 1), _this.calcTotal()) : _this.$api.tip(\r\n\t\t\t\t\t\t\t\t\tres.resultNote)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log(\"取消\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//计算总价\r\n\t\t\tcalcTotal() {\r\n\t\t\t\tlet list = this.dataList;\r\n\t\t\t\tlet n = 0;\r\n\t\t\t\tif (list.length === 0) {\r\n\t\t\t\t\tthis.empty = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet total = 0;\r\n\t\t\t\tlet checked = true;\r\n\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\tif (item.checked === true) {\r\n\t\t\t\t\t\ttotal += item.price * item.numbers;\r\n\t\t\t\t\t} else if (checked === true) {\r\n\t\t\t\t\t\tchecked = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.allChecked = checked;\r\n\t\t\t\tif (total >= this.currentCompline.fullprice) {\r\n\t\t\t\t\tthis.addBuy = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addBuy = this.currentCompline.fullprice - total\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(n)\r\n\t\t\t\tthis.total = this.$api.parsePrice(total);\r\n\r\n\t\t\t},\r\n\t\t\t//创建订单\r\n\t\t\tcreateOrder() {\r\n\t\t\t\tlet list = this.dataList.filter(item => {\r\n\t\t\t\t\treturn item.checked\r\n\t\t\t\t});\r\n\t\t\t\tlist.length > 0 ?\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.$api.navTo(\r\n\t\t\t\t\t\t\t`/pages/order/finishOrder?type=cart&goods=${JSON.stringify(list)}`)\r\n\t\t\t\t\t}, 200) :\r\n\t\t\t\t\tthis\r\n\t\t\t\t\t.$api.tip('请选择商品!')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n\t.action-section-con{\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tz-index: 999;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.container {\r\n\t\tpadding-bottom: 180upx;\r\n\t}\r\n\r\n\t.uni-com {\r\n\t\twidth: 208upx;\r\n\t\theight: 52upx;\r\n\t\tposition: relative;\r\n\t\tcolor: #F55555;\r\n\t\tfont-size: 24upx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 49upx;\r\n\t\tmargin-right: 30upx;\r\n\t}\r\n\r\n\t.uni-com-bg {\r\n\t\twidth: 208upx;\r\n\t\theight: 52upx;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t}\r\n\r\n\t.notice-con {\r\n\t\tbackground-color: #F2FFEF;\r\n\t\tcolor: #333333;\r\n\t\tline-height: 80upx;\r\n\t\twidth: 100%;\r\n\t\ttext-indent: 20upx;\r\n\t}\r\n\r\n\t.cart-item {\r\n\t\twidth: 97%;\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t\tbackground: #ffffff;\r\n\t\tpadding: 10upx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t}\r\n\r\n\t.price {\r\n\t\tcolor: #FF0000;\r\n\t\tfont-size: 30upx;\r\n\t}\r\n\t.item-right-top {\r\n\t\tdisplay: flex;\r\n\t\tflex: 1;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.skuname {\r\n\t\tfont-size: 20upx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.bottom-width {\r\n\t\twidth: 100%;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\r\n\t.cart-item-left {\r\n\t\t/* width: 230upx; */\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.product-img {\r\n\t\twidth: 80px;\r\n\t\theight: 80px;\r\n\t\tborder-radius: 5px;\r\n\t\tmargin-left:14upx;\r\n\t}\r\n\r\n\t.item-right {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tflex: 1;\r\n\t\tpadding-left: 10upx;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.title,\r\n\t.price {\r\n\t\theight: 40upx;\r\n\t\tline-height: 40upx;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.del-btn {\r\n\t\tpadding: 4upx 10upx;\r\n\t\tfont-size: 34upx;\r\n\t\theight: 50upx;\r\n\t}\r\n\r\n\t.iconfont {\r\n\t\tfont-size: 24px;\r\n\t}\r\n\r\n\t/* 底部栏 */\r\n\t.action-section {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\theight: 80upx;\r\n\t\tpadding-left: 10px;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: rgba(255, 255, 255, 1);\r\n\r\n\t\t.checkbox {\r\n\t\t\theight: 52upx;\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 52upx;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tz-index: 5;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.clear-btn {\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 26upx;\r\n\t\t\ttop: 0;\r\n\t\t\tz-index: 4;\r\n\t\t\twidth: 0;\r\n\t\t\theight: 52upx;\r\n\t\t\tline-height: 52upx;\r\n\t\t\tpadding-left: 38upx;\r\n\t\t\tcolor: #fff;\r\n\t\t\tborder-radius: 0 50px 50px 0;\r\n\t\t\topacity: 0;\r\n\t\t\ttransition: .2s;\r\n\t\t}\r\n\r\n\t\t.total-box {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\ttext-align: right;\r\n\t\t\tpadding-right: 40upx;\r\n\t\t}\r\n\r\n\t\t.confirm-btn {\r\n\t\t\theight: 70upx;\r\n\t\t\twidth: 160upx;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 70upx;\r\n\t\t\tbackground: #F55555;\r\n\t\t\tfont-size: 26upx;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./carts.vue?vue&type=style&index=0&id=6d97fbdc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./carts.vue?vue&type=style&index=0&id=6d97fbdc&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592186151095\n      var cssReload = require(\"D:/迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}